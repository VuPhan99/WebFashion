{"ast":null,"code":"import _slicedToArray from\"V:\\\\Web\\\\WebFashion\\\\admin\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _defineProperty from\"V:\\\\Web\\\\WebFashion\\\\admin\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import{DragDropContext,Droppable}from'react-beautiful-dnd';import React,{useState}from'react';import{infoColor,warningColor}from'../../styleVariables';import reorder,{reorderQuoteMap}from'./reorder';import Column from'./Column';import{makeStyles}from'@material-ui/core/styles';import{mockTaskboard}from'../../utils/mock';var useStyles=makeStyles(function(theme){var _taskboard;return{taskboard:(_taskboard={overflowX:'auto',overflowY:'hidden',whiteSpace:'nowrap'},_defineProperty(_taskboard,theme.breakpoints.down('sm'),{height:'calc(100vh - 56px)'}),_defineProperty(_taskboard,theme.breakpoints.up('sm'),{height:'calc(100vh - 64px)'}),_taskboard),wrapper:{width:'280px',paddingTop:theme.spacing(1),paddingBottom:theme.spacing(1),paddingRight:theme.spacing(1)/2,paddingLeft:theme.spacing(1)/2,boxSizing:'border-box',display:'inline-block',verticalAlign:'top',height:'100%'},list:{boxSizing:'border-box',display:'flex',flexDirection:'column',maxHeight:'100%',whiteSpace:'normal',backgroundColor:'rgba(0, 0, 0, 0.05)',borderRadius:theme.shape.borderRadius},header:{position:'relative',flexDirection:'row',alignItems:'center',letterSpacing:'0.02rem',padding:theme.spacing(1),margin:0,fontWeight:500,textTransform:'uppercase',fontSize:'12px'},task:{position:'relative',display:'flex',flexDirection:'column',boxShadow:theme.shadows[1],color:theme.palette.text.primary,background:theme.palette.background.paper,borderRadius:theme.shape.borderRadius,padding:theme.spacing(1),marginBottom:theme.spacing(1),'&:last-child':{marginBottom:0},'&:hover':{cursor:'grab'},'&::after':{content:'\"\"',position:'absolute',border:'4px solid transparent',top:0,borderTopWidth:'12px',borderBottomColor:'transparent',right:'6px'}},success:{'&::after':{borderTopColor:theme.palette.secondary.main,borderRightColor:theme.palette.secondary.main,borderLeftColor:theme.palette.secondary.main}},info:{'&::after':{borderTopColor:infoColor,borderRightColor:infoColor,borderLeftColor:infoColor}},warning:{'&::after':{borderTopColor:warningColor,borderRightColor:warningColor,borderLeftColor:warningColor}},danger:{'&::after':{borderTopColor:theme.palette.secondary.main,borderRightColor:theme.palette.secondary.main,borderLeftColor:theme.palette.secondary.main}},cards:{position:'relative',padding:\"0 \".concat(theme.spacing(1),\"px \").concat(theme.spacing(1),\"px\"),boxSizing:'border-box',height:'100%',overflowX:'hidden',overflowY:'auto'}};});var Taskboard=function Taskboard(){var classes=useStyles();var _useState=useState(mockTaskboard),_useState2=_slicedToArray(_useState,2),columns=_useState2[0],setColumns=_useState2[1];var _useState3=useState(Object.keys(mockTaskboard)),_useState4=_slicedToArray(_useState3,2),ordered=_useState4[0],setOrdered=_useState4[1];var onDragEnd=function onDragEnd(result){// dropped nowhere\nif(!result.destination){return;}var source=result.source;var destination=result.destination;// did not move anywhere - can bail early\nif(source.droppableId===destination.droppableId&&source.index===destination.index){return;}// reordering column\nif(result.type==='COLUMN'){var orderedList=reorder(ordered,source.index,destination.index);setOrdered(orderedList);return;}var data=reorderQuoteMap({quoteMap:columns,source:source,destination:destination});setColumns(data.quoteMap);};return React.createElement(DragDropContext,{onDragEnd:onDragEnd},React.createElement(Droppable,{droppableId:\"taskboard\",type:\"COLUMN\"},function(provided){return React.createElement(\"div\",Object.assign({ref:provided.innerRef},provided.droppableProps,{className:classes.taskboard}),ordered.map(function(key,index){return React.createElement(Column,{key:key,index:index,title:key,tasks:columns[key]});}));}));};export default Taskboard;","map":{"version":3,"sources":["V:/Web/WebFashion/admin/src/pages/Taskboard/Taskboard.js"],"names":["DragDropContext","Droppable","React","useState","infoColor","warningColor","reorder","reorderQuoteMap","Column","makeStyles","mockTaskboard","useStyles","theme","taskboard","overflowX","overflowY","whiteSpace","breakpoints","down","height","up","wrapper","width","paddingTop","spacing","paddingBottom","paddingRight","paddingLeft","boxSizing","display","verticalAlign","list","flexDirection","maxHeight","backgroundColor","borderRadius","shape","header","position","alignItems","letterSpacing","padding","margin","fontWeight","textTransform","fontSize","task","boxShadow","shadows","color","palette","text","primary","background","paper","marginBottom","cursor","content","border","top","borderTopWidth","borderBottomColor","right","success","borderTopColor","secondary","main","borderRightColor","borderLeftColor","info","warning","danger","cards","Taskboard","classes","columns","setColumns","Object","keys","ordered","setOrdered","onDragEnd","result","destination","source","droppableId","index","type","orderedList","data","quoteMap","provided","innerRef","droppableProps","map","key"],"mappings":"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","sourcesContent":["import { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport React, { useState } from 'react';\nimport { infoColor, warningColor } from '../../styleVariables';\nimport reorder, { reorderQuoteMap } from './reorder';\n\nimport Column from './Column';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { mockTaskboard } from '../../utils/mock';\n\nconst useStyles = makeStyles(theme => ({\n  taskboard: {\n    overflowX: 'auto',\n    overflowY: 'hidden',\n    whiteSpace: 'nowrap',\n    [theme.breakpoints.down('sm')]: {\n      height: 'calc(100vh - 56px)'\n    },\n    [theme.breakpoints.up('sm')]: {\n      height: 'calc(100vh - 64px)'\n    }\n  },\n  wrapper: {\n    width: '280px',\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    paddingRight: theme.spacing(1) / 2,\n    paddingLeft: theme.spacing(1) / 2,\n    boxSizing: 'border-box',\n    display: 'inline-block',\n    verticalAlign: 'top',\n    height: '100%'\n  },\n  list: {\n    boxSizing: 'border-box',\n    display: 'flex',\n    flexDirection: 'column',\n    maxHeight: '100%',\n    whiteSpace: 'normal',\n    backgroundColor: 'rgba(0, 0, 0, 0.05)',\n    borderRadius: theme.shape.borderRadius\n  },\n  header: {\n    position: 'relative',\n    flexDirection: 'row',\n    alignItems: 'center',\n    letterSpacing: '0.02rem',\n    padding: theme.spacing(1),\n    margin: 0,\n    fontWeight: 500,\n    textTransform: 'uppercase',\n    fontSize: '12px'\n  },\n  task: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    boxShadow: theme.shadows[1],\n    color: theme.palette.text.primary,\n    background: theme.palette.background.paper,\n    borderRadius: theme.shape.borderRadius,\n    padding: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    '&:last-child': {\n      marginBottom: 0\n    },\n    '&:hover': {\n      cursor: 'grab'\n    },\n    '&::after': {\n      content: '\"\"',\n      position: 'absolute',\n      border: '4px solid transparent',\n      top: 0,\n      borderTopWidth: '12px',\n      borderBottomColor: 'transparent',\n      right: '6px'\n    }\n  },\n  success: {\n    '&::after': {\n      borderTopColor: theme.palette.secondary.main,\n      borderRightColor: theme.palette.secondary.main,\n      borderLeftColor: theme.palette.secondary.main\n    }\n  },\n  info: {\n    '&::after': {\n      borderTopColor: infoColor,\n      borderRightColor: infoColor,\n      borderLeftColor: infoColor\n    }\n  },\n  warning: {\n    '&::after': {\n      borderTopColor: warningColor,\n      borderRightColor: warningColor,\n      borderLeftColor: warningColor\n    }\n  },\n  danger: {\n    '&::after': {\n      borderTopColor: theme.palette.secondary.main,\n      borderRightColor: theme.palette.secondary.main,\n      borderLeftColor: theme.palette.secondary.main\n    }\n  },\n  cards: {\n    position: 'relative',\n    padding: `0 ${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    boxSizing: 'border-box',\n    height: '100%',\n    overflowX: 'hidden',\n    overflowY: 'auto'\n  }\n}));\n\nconst Taskboard = () => {\n  const classes = useStyles();\n  const [columns, setColumns] = useState(mockTaskboard);\n  const [ordered, setOrdered] = useState(Object.keys(mockTaskboard));\n\n  const onDragEnd = result => {\n    // dropped nowhere\n    if (!result.destination) {\n      return;\n    }\n\n    const source = result.source;\n    const destination = result.destination;\n\n    // did not move anywhere - can bail early\n    if (\n      source.droppableId === destination.droppableId &&\n      source.index === destination.index\n    ) {\n      return;\n    }\n\n    // reordering column\n    if (result.type === 'COLUMN') {\n      const orderedList = reorder(ordered, source.index, destination.index);\n      setOrdered(orderedList);\n      return;\n    }\n\n    const data = reorderQuoteMap({\n      quoteMap: columns,\n      source,\n      destination\n    });\n\n    setColumns(data.quoteMap);\n  };\n\n  return (\n    <DragDropContext onDragEnd={onDragEnd}>\n      <Droppable droppableId=\"taskboard\" type=\"COLUMN\">\n        {provided => (\n          <div\n            ref={provided.innerRef}\n            {...provided.droppableProps}\n            className={classes.taskboard}\n          >\n            {ordered.map((key, index) => (\n              <Column\n                key={key}\n                index={index}\n                title={key}\n                tasks={columns[key]}\n              />\n            ))}\n          </div>\n        )}\n      </Droppable>\n    </DragDropContext>\n  );\n};\n\nexport default Taskboard;\n"]},"metadata":{},"sourceType":"module"}